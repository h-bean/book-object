# 역할, 책임, 협력
- 객체들이 애플리케이션 기능을 구현하기 위해 수행하는 상호작용을 "협력"
- 객체가 협력에 참여하기 위해 수행하는 로직을 "책임"
- 객체들이 협력 안에서 수행하는 책임들이 모여 객체가 수행하는 "역할"을 구성

## 협력
**협력**
1. 메시지는 객체가 다른 객체에게 요청을 전달하는 유일한 수단
2. 메시지를 수신한 객체는 메소드를 실행해 요청에 응답한다.
3. 객체가 메시지를 처리할 방법(메소드)를 스스로 선택한 다는 점이 중요하다. (자율적인 객체)
4. 객체를 자율적으로 만드는 방법은 내부 구현을 캡슐화 하는 것이다. -> 변경 쉬워짐
5. 객체들 사이의 협력을 구성하는 요청과 응답의 흐름을 통해 애플리케이션의 기능이 구현된다.

**협력이 설계를 위한 문맥을 결정한다**
1. 객체란 상태와 행동을 함께 캡슐화 하는 실행단위
2. 어떤 객체가 필요하다면, 그 이유는 단 하나! 협력에 참여해야 하기 때문
3. 협력은 객체가 필요한 이유와 객체가 수행하는 행동의 동기를 제공한다.
4. 객체의 행동을 결정하는 것은 협력. 객체의 상태를 결정하는 것은 행동.
5. 객체의 상태는 객체가 행동을 수행하는데 필요한 정보가 무엇인지로 결정된다.

## 책임
**책임**
1. 협력에 참여하기 위해 객체가 수행하는 행동
2. 객체의 책임은 '하는것'과 '아는것'
3. 협력 안에서 객체에게 할당한 책임이 외부의 인터페이스와 내부의 속성을 결정한다.
4. 책임은 메시지보다 추상적이고 큰 개념
5. 책임은 여러 객체들이 협력해야하는 커다란 책임이 될 수 있다.
6. 객체지향 개발에서 가장 중요한 능력은 책임을 능숙하게 소프트웨어 객체에 할당하는 것

**책임할당**
1. 책임을 수행하는데 필요한 정보를 가장 잘 알고 있는 전문가에게 그 책임을 할당한다.
2. 객체들 역시 협력에 필요한 지식과 방법을 가장 잘 알고 있는 객체에게 도움을 요청한다.
3. 요청에 응답하기 위해 필요한 이 행동이 객체가 수행할 책임으로 이어진다.
4. 객체지향 설계는 협력에 필요한 메시지를 찾고 메시지에 적절한 객체를 선택하는 반복적인 과정을 통해 이뤄진다.
5. 이러한 메시지가 메시지 수신 객체의 책임을 결정

> 협력을 설계하며 객체의 책임을 식별해 나가는 과정에서 최종적으로 얻게되는 결과물은 시스템을 구성하는
> 객체들의 인터페이스와 오퍼레이션 목록이다.

**메시지가 객체를 결정한다**  
1.메시지가 객체를 선택하게 해야하는 이유
 - 최소한의 인터페이스
 - 추상적인 인터페이스
 
2.객체가 충분히 추상적이면서 미니멀리즘을 따르는 인터페이스를 가지게 하고 싶다면, 메시지가 객체를 선택하게 하라


**행동이 상태를 결정한다**   
1. 캡슐화를 위반하지 않도록 구현에 대한 결정을 뒤로 미루면서 객체의 행위를 고려하기 위해서는 항상 
  협력이라는 문맥 안에서 객체를 생각해야 한다.
2. 개별 객체의 상태와 행동이 아닌 시스템의 기능을 구현하기 위한 협력에 초점을 맞춰야만
  응집도가 높고 결합도가 낮은 객체들을 창조할 수 있다.
3. 협력이 객체의 행동을 결정하고, 행동이 상태를 결정한다. 그리고 그 행동이 바로 객체의 책임이 된다.

## 역할
**역할과 협력**   
1. 객체가 어떤 특정한 협력 안에서 수행하는 책임의 집합이 역할   
2. 협력을 모델링할 때는 특정한 객체가 아니라 역할에게 책임을 할당한다고 생각하자

**유연하고 재사용 가능한 협력**   
1.역할을 객체의 추상화   
 - EX) DiscountPolicy(할인정책) 은 AmountDiscountPolicy와 PercentDiscountPolicy를 추상화 한다. 

2.역할을 통해 두 개의 협력을 하나로 통합할 수 있다.   
3.불필요한 중복코드 제거 가능   
4.책임과 역할을 중심으로 협력을 바라보는 것이, 변경과 확장이 용이한 유연한 설계로 나아가는 첫걸음
> 역할은 다양한 종류의 객체를 수용할 수 있는 일종의 슬롯   
> 구체적인 객체들의 타입을 캡슐화 하는 추상화   
> 역할을 구현하기 위해 인터페이스와 추상클래스를 사용할 수 있다.

**객체 대 역할**
> 협력에 적합한 책임을 수행하는 대상이 한 종류라면 "객체"   
> 여러 종류의 객체들이 참여할 수 있다면 "역할"

협력, 역할, 객체, 클래스의 관계   
협력(Collaboration) --(reference)--> 역할(Role)--(select fromt)--> 객체(Object)   
--(instance of)--> 클래스(Class)
 - 책임을 수행할 후보는 객체가 될 수도, 역할이 될 수도 있다.

**역할과 추상화**   
1. 역할은 공통의 책임을 바탕으로 종류를 숨기기 때문에, 역할을 객체의 추상화로 볼 수 있다.
2. 추상화는 불필요한 세부사항을 생략하고 핵심 개념을 강조한다.   
   상위 수준의 정책을 쉽고 간단하게 표현가능
3. 역할은 동일한 협력을 수행하는 객체들을 추상화 할 수 있게 한다.
4. 협력 안에서 동일한 책임을 수행하는 객체들은, 동일한 역할을 수행하기 때문에 서로 대체 가능하다.   
   역할은 협력을 유연하게 만든다.
![KakaoTalk_20210809_004507430](https://user-images.githubusercontent.com/67268117/128637797-3a59a476-f97c-472c-9cc6-866ac1c3f605.jpg)
 - DiscountPolicy와 DiscountCondition 역할을 수행하는 어떤 객체라도 협력에 참여할 수 있다.
 - 앞으로 추가될 미지의 할인 정책과 할인 조건을 수용할 수 있는 유연한 설계

**배우와 배역**
1. 하나의 배역을 여러 배우가 연기할 수 있는 것처럼, 동일한 역할을 수행하는 하나 이상의 객체들이 존재할 수 있다.
2. 객체는 다양한 역할을 가질 수 있다.   
   객체는 협력에 참여할 때 협력 안에서 하나의 역할로 보여진다.
